import{a as E,S as P,i as g,A as B}from"./assets/vendor-f18da0d3.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const f of n.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&c(f)}).observe(document,{childList:!0,subtree:!0});function r(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(s){if(s.ep)return;s.ep=!0;const n=r(s);fetch(s.href,n)}})();const D=document.querySelector(".mob-menu-open-btn"),m=document.querySelector(".mob-menu"),z=document.querySelector(".mob-menu-close-btn"),a=document.querySelector(".drop-menu-nav"),V=document.querySelector(".header-menu"),$=document.querySelector(".mob-menu-nav"),U=document.querySelector(".order-btn"),_=document.querySelector(".mob-order-btn");D.addEventListener("click",F);z.addEventListener("click",K);V.addEventListener("click",Y);a.addEventListener("click",v);$.addEventListener("click",v);window.addEventListener("keydown",Z);U.addEventListener("click",v);_.addEventListener("click",v);function F(){m.classList.add("is-open")}function K(){m.classList.remove("is-open")}function Y(){a.classList.contains("drop-menu-show")?a.classList.remove("drop-menu-show"):a.classList.add("drop-menu-show")}window.onclick=function(e){!e.target.matches(".header-menu")&&!e.target.matches(".drop-menu-nav")&&a.classList.remove("drop-menu-show")};function Z(e){e.key==="Escape"&&a.classList.remove("drop-menu-show")}function v(e){e.preventDefault(),m.classList.contains("is-open")&&m.classList.remove("is-open");const t=e.target.getAttribute("href").substring(1),r=document.getElementById(t);window.scrollTo({top:r.offsetTop,behavior:"smooth"})}E.defaults.baseURL="https://portfolio-js.b.goit.study/api";class W{async getReviews(){try{return(await E.get("/reviews")).data}catch{throw new Error("Error fetching reviews")}}}const N=document.querySelector(".js-reviews-list"),p=document.querySelector(".button-prev"),d=document.querySelector(".button-next"),G=document.querySelector(".swiper-container"),J=()=>{const e=document.createElement("div");e.classList.add("loader-container","js-loader-container","hidden");const t=document.createElement("span");return t.classList.add("loader","js-loader"),e.appendChild(t),G.appendChild(e),e},q=J(),u=e=>{e?q.classList.remove("hidden"):q.classList.add("hidden")};function Q(e){const t=e.map(({_id:r,author:c,avatar_url:s,review:n})=>`<li class="swiper-slide" data-id="${r}">
          <div class="swiper-card">
            <div class="card-image" style="background: #e0e0e0 url('${s}') no-repeat center center; background-size: cover;"></div>
            <h3 class="card-title">${c}</h3>
            <p class="card-text">${n}</p>
          </div>
        </li>`).join("");return N.insertAdjacentHTML("beforeend",t)}async function X(){const e=new W;u(!0);try{const t=await e.getReviews();t&&t.length>0?(Q(t),u(!1)):(u(!1),M(),x())}catch{u(!1),M(),x()}}const l=new P(".swiper",{initialSlide:0,speed:650,spaceBetween:16,preventClicks:!0,freeMode:!1,navigation:{nextEl:".button-next",prevEl:".button-prev"},mousewheel:{invert:!0},keyboard:{enabled:!0,onlyInViewport:!1},breakpoints:{375:{slidesPerView:1},768:{slidesPerView:2},1440:{slidesPerView:4}},on:{slideChange:h}});function h(){d.disabled=l.isEnd,p.disabled=l.isBeginning}function M(){N.innerHTML='<div class="err-container"></div>';const e=document.querySelector(".err-container");lottie.loadAnimation({container:e,renderer:"svg",loop:!0,autoplay:!0,path:"./img/redcat.json"}),d.disabled=!0,p.disabled=!0}d.addEventListener("click",T);p.addEventListener("click",R);document.addEventListener("keydown",ee);function ee(e){e.code==="ArrowRight"&&T(),e.code==="ArrowLeft"&&R()}function T(){l.slideNext(),h()}function R(){l.slidePrev(),h()}const te=document.querySelectorAll(".swiper-slide");l.activeIndex===te.length-1&&(d.addEventListener("click",moveNext),d.disabled=!0);l.activeIndex===0&&(p.disabled=!0);function x(){return g.error({icon:!1,message:"Failed to load data. Please try again later!",backgroundColor:"#ed3b44",maxWidth:400,timeout:2e3,messageColor:"#fafafb",messageSize:"16",theme:"dark",progressBarColor:"#b51b1",position:"bottomRight"})}document.addEventListener("DOMContentLoaded",X);new B(".accordion-container-faq",{duration:400,showMultiple:!0});const oe=document.querySelectorAll(".faq-show-text-button");oe.forEach(e=>{e.addEventListener("click",()=>{e.querySelector(".faq-icon").classList.toggle("arrow-up")})});const i=new P(".swiper",{direction:"horizontal",navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},mousewheel:{invert:!0},keyboard:{enabled:!0,onlyInViewport:!1}}),L=document.querySelector(".swiper-button-prev"),w=document.querySelector(".swiper-button-next"),I=document.querySelector(".turn-right"),A=document.querySelector(".turn-left");w.addEventListener("click",O);L.addEventListener("click",j);document.addEventListener("keydown",se);function se(e){e.code==="ArrowRight"&&O(),e.code==="ArrowLeft"&&j()}function O(){i.slideNext(),S()}function j(){i.slidePrev(),S()}function S(){i.isEnd?(w.classList.add("swiper-button-disabled"),I.classList.add("swiper-svg-disabled"),i.allowSlideNext=!1):(w.classList.remove("swiper-button-disabled"),I.classList.remove("swiper-svg-disabled"),i.allowSlideNext=!0),i.isBeginning?(L.classList.add("swiper-button-disabled"),A.classList.add("swiper-svg-disabled"),i.allowSlidePrev=!1):(L.classList.remove("swiper-button-disabled"),A.classList.remove("swiper-svg-disabled"),i.allowSlidePrev=!0)}S();const b=document.querySelector(".covers"),ne={rootMargin:"0px",threshold:0};function re(e){e.forEach(t=>{t.isIntersecting?b.classList.add("animate"):b.classList.remove("animate")})}const ie=new IntersectionObserver(re,ne);ie.observe(b);new B(".accordion-container");const C=document.querySelectorAll(".accordion-title"),ce=document.querySelectorAll(".accordion-content");C.forEach(e=>e.addEventListener("click",()=>{const t=document.querySelector("#"+e.dataset.tab);t.classList.contains("active")?(t.classList.remove("active"),e.classList.remove("active"),t.style.maxHeight=0):(ce.forEach(r=>{r.classList.remove("active"),r.style.maxHeight=0}),C.forEach(r=>r.classList.remove("active")),e.classList.add("active"),t.classList.add("active"),t.style.maxHeight=t.scrollHeight+"px")}));document.querySelector('[data-tab="tab-1"]').classList.add("active");document.querySelector("#tab-1").classList.add("active");document.querySelector("#tab-1").style.maxHeight=document.querySelector("#tab-1").scrollHeight+"px";const y=document.querySelector(".go-top");y.addEventListener("click",ae);function ae(){window.scrollY>0&&window.scrollTo({top:0,behavior:"smooth"})}window.addEventListener("scroll",le);function le(){window.scrollY>100?y.classList.add("go-top--show"):y.classList.remove("go-top--show")}const o={commentsElem:document.getElementById("comments"),emailElem:document.getElementById("email"),successMessage:document.getElementById("successMessage"),errorMessage:document.getElementById("errorMessage"),formElem:document.querySelector(".js-submit-form"),backdrop:document.querySelector(".backdrop"),modalCloseBtn:document.querySelector(".modal-close-btn")},H=/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/,de="https://portfolio-js.b.goit.study/api/requests/";o.commentsElem.addEventListener("blur",function(){const t=o.commentsElem.value;t.length>10&&(o.commentsElem.value=t.substring(0,10)+"...")});o.emailElem.addEventListener("input",function(){o.successMessage.style.display="none",o.errorMessage.style.display="none";const e=o.emailElem.value.trim();if(e===""){o.emailElem.classList.remove("success"),o.emailElem.classList.remove("error");return}H.test(e)?(o.emailElem.classList.add("success"),o.emailElem.classList.remove("error"),o.successMessage.style.display="block"):(o.emailElem.classList.add("error"),o.emailElem.classList.remove("success"),o.errorMessage.style.display="block")});o.commentsElem.addEventListener("input",function(){localStorage.setItem("comments",o.commentsElem.value)});o.emailElem.addEventListener("input",function(){localStorage.setItem("email",o.emailElem.value)});document.addEventListener("DOMContentLoaded",function(){const e=localStorage.getItem("comments"),t=localStorage.getItem("email");e&&(o.commentsElem.value=e),t&&(o.emailElem.value=t)});function ue(){o.backdrop.classList.add("is-open"),document.body.classList.add("no-scroll")}function k(){o.backdrop.classList.remove("is-open"),document.body.classList.remove("no-scroll")}o.modalCloseBtn.addEventListener("click",k);o.backdrop.addEventListener("click",function(e){e.target===e.currentTarget&&k()});document.addEventListener("keydown",function(e){e.key==="Escape"&&k()});o.formElem.addEventListener("submit",async function(e){e.preventDefault();const t=o.emailElem.value.trim(),r=o.commentsElem.value;if(!H.test(t)){g.error({title:"Error:",message:"Invalid email address"});return}try{(await E.post(de,{email:t,comment:r})).status===201&&(ue(),o.successMessage.style.display="none",o.emailElem.classList.remove("success"),o.formElem.reset(),localStorage.removeItem("email"),localStorage.removeItem("comments"))}catch{g.error({title:"Error:",message:"Error sending request. Try again."})}});
//# sourceMappingURL=commonHelpers.js.map
