{"version":3,"file":"commonHelpers.js","sources":["../src/js/review.js","../src/js/faq.js","../src/js/projects.js","../src/js/covers.js"],"sourcesContent":["import axios from 'axios';\nimport Swiper from 'swiper';\nimport 'swiper/swiper-bundle.css';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\naxios.defaults.baseURL = 'https://portfolio-js.b.goit.study/api';\n\nclass ReviewAPI {\n    async getReviews() {\n        try {\n            const res = await axios.get('/reviews');\n            return res.data;\n        } catch (error) {\n            throw new Error('Error fetching reviews');\n        }\n    }\n}\n\nconst reviewsList = document.querySelector('.js-reviews-list');\nconst buttonPrev = document.querySelector('.button-prev');\nconst buttonNext = document.querySelector('.button-next');\nconst swiperContainer = document.querySelector('.swiper-container');\n\n\n\nconst createLoader = () => {\n    const loaderContainer = document.createElement('div');\n    loaderContainer.classList.add('loader-container', 'js-loader-container', 'hidden');\n\n    const loader = document.createElement('span');\n    loader.classList.add('loader', 'js-loader');\n\n    loaderContainer.appendChild(loader);\n    swiperContainer.appendChild(loaderContainer);\n\n    return loaderContainer;\n};\n\nconst loaderContainer = createLoader();\n\nconst toggleLoader = (show) => {\n  if (show) {\n    loaderContainer.classList.remove('hidden');\n  } else {\n    loaderContainer.classList.add('hidden');\n  }\n};\n\n\n\nfunction createMarkup(arr) {\n    const markup = arr.map(({ _id, author, avatar_url, review }) =>\n         `<li class=\"swiper-slide\" data-id=\"${_id}\">\n          <div class=\"swiper-card\">\n            <div class=\"card-image\" style=\"background: #e0e0e0 url('${avatar_url}') no-repeat center center; background-size: cover;\"></div>\n            <h3 class=\"card-title\">${author}</h3>\n            <p class=\"card-text\">${review}</p>\n          </div>\n        </li>`).join('');\n    \n    return reviewsList.insertAdjacentHTML(\"beforeend\", markup);\n}\n\n\nasync function fetchAndDisplayReviews() {\n    const reviewAPI = new ReviewAPI();\n    toggleLoader(true);\n    try {\n        const data = await reviewAPI.getReviews();\n\n        if (data && data.length > 0) {\n            createMarkup(data);\n            toggleLoader(false);\n        }\n        else {\n            toggleLoader(false);\n            showErrorMessage();\n            showError();\n        }\n    } catch (error) {\n        toggleLoader(false);\n        showErrorMessage();\n        showError();\n    }\n\n}\n\n\nconst swiper = new Swiper('.swiper', {\n    initialSlide: 0,\n    speed: 650,\n    spaceBetween: 16,\n    preventClicks: true,\n    freeMode: false,\n    navigation: {\n        nextEl: '.button-next',\n        prevEl: '.button-prev',\n    },\n    mousewheel: {\n        invert: true,\n    },\n    keyboard: {\n        enabled: true,\n        onlyInViewport: false,\n    },\n    breakpoints: {\n        375: {\n            slidesPerView: 1\n        },\n        768: {\n            slidesPerView: 2\n        },\n        1440: {\n            slidesPerView: 4\n        }\n    }, \n        on: {\n        slideChange: updateButtonStates,\n    }\n    });\n\nfunction updateButtonStates() {\n    buttonNext.disabled = swiper.isEnd;\n    buttonPrev.disabled = swiper.isBeginning;\n}\n\n\nfunction showErrorMessage() {\n    reviewsList.innerHTML = '<div class=\"err-container\"></div>';\n    const errorAnimationContainer = document.querySelector('.err-container');\n       lottie.loadAnimation({\n        container: errorAnimationContainer,\n        renderer: 'svg',\n        loop: true,\n        autoplay: true,\n        path: '../img/redcat.json'  \n    });\n    buttonNext.disabled = true;\n    buttonPrev.disabled = true;\n}\n\nbuttonNext.addEventListener('click', moveNext); \nbuttonPrev.addEventListener('click', movePrev); \ndocument.addEventListener('keydown', keyMove);\n\nfunction keyMove(evt) {\n  if (evt.code === 'ArrowRight') {\n    moveNext();\n  }\n  if (evt.code === 'ArrowLeft') {\n    movePrev();\n  }\n}\n\nfunction moveNext() {\n    swiper.slideNext();\n    updateButtonStates();\n}\nfunction movePrev() {\n    swiper.slidePrev();\n    updateButtonStates();\n}\n\nconst slides = document.querySelectorAll('.swiper-slide'); \nif (swiper.activeIndex === slides.length - 1) { \n    buttonNext.addEventListener('click', moveNext); \nbuttonNext.disabled = true;\n  } \n\n\nif (swiper.activeIndex === 0) { \n    buttonPrev.disabled = true;\n}\n\nfunction showError() {\n    return iziToast.error({\n        icon: false,\n        message: 'Failed to load data. Please try again later!',\n        backgroundColor: '#ed3b44',\n        maxWidth: 400,\n        timeout: 2000,\n        messageColor: '#fafafb',\n        messageSize: '16',\n        theme: 'dark',\n        progressBarColor: '#b51b1',\n        position: 'bottomRight',\n    });\n}\n\ndocument.addEventListener('DOMContentLoaded', fetchAndDisplayReviews);\n\n\n\n\n\n\n\n","import faqAccordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\n\nconst accordionFaq = new faqAccordion('.accordion-container-faq', {\n  duration: 400,\n  showMultiple: true,\n});\n\nconst faqButton = document.querySelectorAll('.faq-show-text-button');\nfaqButton.forEach(button => {\n  button.addEventListener('click', () => {\n    const arrowUpIcon = button.querySelector('.faq-icon');\n    arrowUpIcon.classList.toggle('arrow-up');\n  });\n});\n\n// document.getElementById('shipping-tax__title-1').onclick = function () {\n//   document\n//     .getElementById('drop-up-body-shipping-tax')\n//     .classList.toggle('drop-up-body_state_toggled');\n//   document\n//     .getElementById('shipping-tax__title-1')\n//     .classList.toggle('title-summary_toggled');\n//   document\n//     .getElementById('shipping-tax-1')\n//     .classList.toggle('shipping-tax_mb_disabled');\n// };\n\n// function accordionClip() {\n// const faqList = document.querySelectorAll('.faq-list-item');\n// const faqTrigger = document.querySelectorAll('.faq-question');\n\n//     faqTrigger.forEach((trigger, idx) => {\n//         console.log(trigger);\n//       trigger.addEventListener('click', () => {\n//         const parent = trigger.parentNode;\n//         console.log(parent);\n\n//         if (!parent.classList.contains('active')) {\n//           parent.classList.add('active');\n//         } else {\n//           parent.classList.remove('active');\n//         }\n//       });\n//     });\n// }\n// accordionClip();\n\n// const faqList = document.querySelector('.faq-list-item');\n// const arrowUpIcon = document.querySelector('.faq-icon');\n// faqList.addEventListener('click', handlerAccordion)\n\n// function handlerAccordion(evt) {\n//   if (evt.currentTarget === evt.target) {\n//     return;\n//     }\n\n// //  const arrowUpIcon = document.querySelector('.faq-icon');\n// //           arrowUpIcon.classList.toggle('arrow-up');\n//   const parentList = evt.target.closest('.faq-list-item');\n//     console.log(parentList);\n\n// }\n\n// const faqList = document.querySelector(\".faq-list\");\n// const arrowUpIcon = document.querySelector(\".faq-icon\");\n// faqList.addEventListener(\"click\", handlerAccordion);\n\n// function handlerAccordion(evt) {\n//   if (evt.currentTarget === evt.target) {\n//     return;\n//   }\n\n//   const parentList = evt.target.closest(\".faq-list-item\");\n//   console.log(parentList);\n//   //    arrowUpIcon.classList.toggle('arrow-up');\n\n//   //  if (!parentList.classList.contains('is-active')) {\n//   //       parentList.classList.add('is-active');\n//   //     } else {\n//   //       parentList.classList.remove('is-active');\n//   //     }\n// }\n","import Swiper from 'swiper';\n\nconst swiper = new Swiper('.swiper', {\n  direction: 'horizontal',\n  navigation: {\n    nextEl: '.swiper-button-next',\n    prevEl: '.swiper-button-prev',\n  },\n  mousewheel: {\n    invert: true,\n  },\n  keyboard: {\n    enabled: true,\n    onlyInViewport: false,\n  },\n});\n\n\nconst prevButton = document.querySelector('.swiper-button-prev');\nconst nextButton = document.querySelector('.swiper-button-next');\nconst svgNext = document.querySelector('.turn-right');\nconst svgPrev = document.querySelector('.turn-left');\n\n\nnextButton.addEventListener('click', moveNext);\nprevButton.addEventListener('click', movePrev);\ndocument.addEventListener('keydown', keyMove);\n\n\n\nfunction keyMove(evt) {\n  if (evt.code === 'ArrowRight') {\n    moveNext();\n  }\n  if (evt.code === 'ArrowLeft') {\n    movePrev();\n  }\n}\n\n\nfunction moveNext() {\n  swiper.slideNext();\n  updateNavigationButtons();\n}\n\n\nfunction movePrev() {\n  swiper.slidePrev();\n  updateNavigationButtons();\n}\n\n\nfunction updateNavigationButtons() {\n  if (swiper.isEnd) {\n    nextButton.classList.add('swiper-button-disabled');\n    svgNext.classList.add('swiper-svg-disabled');\n    swiper.allowSlideNext = false;\n  } else {\n    nextButton.classList.remove('swiper-button-disabled');\n    svgNext.classList.remove('swiper-svg-disabled');\n    swiper.allowSlideNext = true;\n  }\n\n  if (swiper.isBeginning) {\n    prevButton.classList.add('swiper-button-disabled');\nsvgPrev.classList.add('swiper-svg-disabled');\n    swiper.allowSlidePrev = false;\n  } else {\n    prevButton.classList.remove('swiper-button-disabled');\n    svgPrev.classList.remove('swiper-svg-disabled');\n    swiper.allowSlidePrev = true;\n  }\n\n\n}\n\n\nupdateNavigationButtons();\n","const coversSection = document.querySelector('.covers');\n\nconst options = {\n  rootMargin: '0px',\n  threshold: 0,\n};\n\nfunction addToggleAnimation(entries) {\n  entries.forEach(entry => {\n    if (entry.isIntersecting) {\n      coversSection.classList.add('animate');\n    } else {\n      coversSection.classList.remove('animate');\n    }\n  });\n}\n\nconst observer = new IntersectionObserver(addToggleAnimation, options);\n\nobserver.observe(coversSection);\n"],"names":["axios","ReviewAPI","reviewsList","buttonPrev","buttonNext","swiperContainer","createLoader","loaderContainer","loader","toggleLoader","show","createMarkup","arr","markup","_id","author","avatar_url","review","fetchAndDisplayReviews","reviewAPI","data","showErrorMessage","showError","swiper","Swiper","updateButtonStates","errorAnimationContainer","moveNext","movePrev","keyMove","evt","slides","iziToast","faqAccordion","faqButton","button","prevButton","nextButton","svgNext","svgPrev","updateNavigationButtons","coversSection","options","addToggleAnimation","entries","entry","observer"],"mappings":"2wBAMAA,EAAM,SAAS,QAAU,wCAEzB,MAAMC,CAAU,CACZ,MAAM,YAAa,CACf,GAAI,CAEA,OADY,MAAMD,EAAM,IAAI,UAAU,GAC3B,IACd,MAAe,CACZ,MAAM,IAAI,MAAM,wBAAwB,CAC3C,CACJ,CACL,CAEA,MAAME,EAAc,SAAS,cAAc,kBAAkB,EACvDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAkB,SAAS,cAAc,mBAAmB,EAI5DC,EAAe,IAAM,CACvB,MAAMC,EAAkB,SAAS,cAAc,KAAK,EACpDA,EAAgB,UAAU,IAAI,mBAAoB,sBAAuB,QAAQ,EAEjF,MAAMC,EAAS,SAAS,cAAc,MAAM,EAC5C,OAAAA,EAAO,UAAU,IAAI,SAAU,WAAW,EAE1CD,EAAgB,YAAYC,CAAM,EAClCH,EAAgB,YAAYE,CAAe,EAEpCA,CACX,EAEMA,EAAkBD,EAAY,EAE9BG,EAAgBC,GAAS,CACzBA,EACFH,EAAgB,UAAU,OAAO,QAAQ,EAEzCA,EAAgB,UAAU,IAAI,QAAQ,CAE1C,EAIA,SAASI,EAAaC,EAAK,CACvB,MAAMC,EAASD,EAAI,IAAI,CAAC,CAAE,IAAAE,EAAK,OAAAC,EAAQ,WAAAC,EAAY,OAAAC,CAAQ,IACtD,qCAAqCH,CAAG;AAAA;AAAA,sEAEqBE,CAAU;AAAA,qCAC3CD,CAAM;AAAA,mCACRE,CAAM;AAAA;AAAA,cAE3B,EAAE,KAAK,EAAE,EAEnB,OAAOf,EAAY,mBAAmB,YAAaW,CAAM,CAC7D,CAGA,eAAeK,GAAyB,CACpC,MAAMC,EAAY,IAAIlB,EACtBQ,EAAa,EAAI,EACjB,GAAI,CACA,MAAMW,EAAO,MAAMD,EAAU,aAEzBC,GAAQA,EAAK,OAAS,GACtBT,EAAaS,CAAI,EACjBX,EAAa,EAAK,IAGlBA,EAAa,EAAK,EAClBY,IACAC,IAEP,MAAe,CACZb,EAAa,EAAK,EAClBY,IACAC,GACH,CAEL,CAGA,MAAMC,EAAS,IAAIC,EAAO,UAAW,CACjC,aAAc,EACd,MAAO,IACP,aAAc,GACd,cAAe,GACf,SAAU,GACV,WAAY,CACR,OAAQ,eACR,OAAQ,cACX,EACD,WAAY,CACR,OAAQ,EACX,EACD,SAAU,CACN,QAAS,GACT,eAAgB,EACnB,EACD,YAAa,CACT,IAAK,CACD,cAAe,CAClB,EACD,IAAK,CACD,cAAe,CAClB,EACD,KAAM,CACF,cAAe,CAClB,CACJ,EACG,GAAI,CACJ,YAAaC,CAChB,CACL,CAAK,EAEL,SAASA,GAAqB,CAC1BrB,EAAW,SAAWmB,EAAO,MAC7BpB,EAAW,SAAWoB,EAAO,WACjC,CAGA,SAASF,GAAmB,CACxBnB,EAAY,UAAY,oCACxB,MAAMwB,EAA0B,SAAS,cAAc,gBAAgB,EACpE,OAAO,cAAc,CACpB,UAAWA,EACX,SAAU,MACV,KAAM,GACN,SAAU,GACV,KAAM,oBACd,CAAK,EACDtB,EAAW,SAAW,GACtBD,EAAW,SAAW,EAC1B,CAEAC,EAAW,iBAAiB,QAASuB,CAAQ,EAC7CxB,EAAW,iBAAiB,QAASyB,CAAQ,EAC7C,SAAS,iBAAiB,UAAWC,CAAO,EAE5C,SAASA,EAAQC,EAAK,CAChBA,EAAI,OAAS,cACfH,IAEEG,EAAI,OAAS,aACfF,GAEJ,CAEA,SAASD,GAAW,CAChBJ,EAAO,UAAS,EAChBE,GACJ,CACA,SAASG,GAAW,CAChBL,EAAO,UAAS,EAChBE,GACJ,CAEA,MAAMM,EAAS,SAAS,iBAAiB,eAAe,EACpDR,EAAO,cAAgBQ,EAAO,OAAS,IACvC3B,EAAW,iBAAiB,QAASuB,CAAQ,EACjDvB,EAAW,SAAW,IAIlBmB,EAAO,cAAgB,IACvBpB,EAAW,SAAW,IAG1B,SAASmB,GAAY,CACjB,OAAOU,EAAS,MAAM,CAClB,KAAM,GACN,QAAS,+CACT,gBAAiB,UACjB,SAAU,IACV,QAAS,IACT,aAAc,UACd,YAAa,KACb,MAAO,OACP,iBAAkB,SAClB,SAAU,aAClB,CAAK,CACL,CAEA,SAAS,iBAAiB,mBAAoBd,CAAsB,EC3L/C,IAAIe,EAAa,2BAA4B,CAChE,SAAU,IACV,aAAc,EAChB,CAAC,EAED,MAAMC,EAAY,SAAS,iBAAiB,uBAAuB,EACnEA,EAAU,QAAQC,GAAU,CAC1BA,EAAO,iBAAiB,QAAS,IAAM,CACjBA,EAAO,cAAc,WAAW,EACxC,UAAU,OAAO,UAAU,CAC3C,CAAG,CACH,CAAC,ECZD,MAAMZ,EAAS,IAAIC,EAAO,UAAW,CACnC,UAAW,aACX,WAAY,CACV,OAAQ,sBACR,OAAQ,qBACT,EACD,WAAY,CACV,OAAQ,EACT,EACD,SAAU,CACR,QAAS,GACT,eAAgB,EACjB,CACH,CAAC,EAGKY,EAAa,SAAS,cAAc,qBAAqB,EACzDC,EAAa,SAAS,cAAc,qBAAqB,EACzDC,EAAU,SAAS,cAAc,aAAa,EAC9CC,EAAU,SAAS,cAAc,YAAY,EAGnDF,EAAW,iBAAiB,QAASV,CAAQ,EAC7CS,EAAW,iBAAiB,QAASR,CAAQ,EAC7C,SAAS,iBAAiB,UAAWC,CAAO,EAI5C,SAASA,EAAQC,EAAK,CAChBA,EAAI,OAAS,cACfH,IAEEG,EAAI,OAAS,aACfF,GAEJ,CAGA,SAASD,GAAW,CAClBJ,EAAO,UAAS,EAChBiB,GACF,CAGA,SAASZ,GAAW,CAClBL,EAAO,UAAS,EAChBiB,GACF,CAGA,SAASA,GAA0B,CAC7BjB,EAAO,OACTc,EAAW,UAAU,IAAI,wBAAwB,EACjDC,EAAQ,UAAU,IAAI,qBAAqB,EAC3Cf,EAAO,eAAiB,KAExBc,EAAW,UAAU,OAAO,wBAAwB,EACpDC,EAAQ,UAAU,OAAO,qBAAqB,EAC9Cf,EAAO,eAAiB,IAGtBA,EAAO,aACTa,EAAW,UAAU,IAAI,wBAAwB,EACrDG,EAAQ,UAAU,IAAI,qBAAqB,EACvChB,EAAO,eAAiB,KAExBa,EAAW,UAAU,OAAO,wBAAwB,EACpDG,EAAQ,UAAU,OAAO,qBAAqB,EAC9ChB,EAAO,eAAiB,GAI5B,CAGAiB,EAAyB,EC7EzB,MAAMC,EAAgB,SAAS,cAAc,SAAS,EAEhDC,EAAU,CACd,WAAY,MACZ,UAAW,CACb,EAEA,SAASC,EAAmBC,EAAS,CACnCA,EAAQ,QAAQC,GAAS,CACnBA,EAAM,eACRJ,EAAc,UAAU,IAAI,SAAS,EAErCA,EAAc,UAAU,OAAO,SAAS,CAE9C,CAAG,CACH,CAEA,MAAMK,EAAW,IAAI,qBAAqBH,EAAoBD,CAAO,EAErEI,EAAS,QAAQL,CAAa"}